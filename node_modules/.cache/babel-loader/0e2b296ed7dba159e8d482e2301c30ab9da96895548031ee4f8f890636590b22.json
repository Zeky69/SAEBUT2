{"ast":null,"code":"import Vue from 'vue';\nimport Vuex from 'vuex';\nVue.use(Vuex);\nimport ShopService from '../services/shop.service';\nimport BankService from '../services/bankaccount.service';\nexport default new Vuex.Store({\n  // state = les données centralisées\n  state: () => ({\n    transactionsAccount: [],\n    accountAmount: 0,\n    viruses: [],\n    shopUser: null\n  }),\n  // mutations = fonctions synchrones pour mettre à jour le state (!!! interdit de modifier directement le state)\n  mutations: {\n    updateViruses(state, viruses) {\n      state.viruses = viruses;\n    },\n    updateShopUser(state, user) {\n      state.shopUser = user;\n    },\n    updateAccountAmount(state, amount) {\n      state.accountAmount = amount;\n    },\n    updateTransactions(state, transactions) {\n      state.transactionsAccount = transactions;\n    }\n  },\n  // actions = fonctions asynchrone pour mettre à jour le state, en faisant appel aux mutations, via la fonction commit()\n  actions: {\n    async resetaccountinfo() {\n      commit('updateAccountAmount', 0);\n      commit('updateTransactions', []);\n    },\n    async shopLogin({\n      commit\n    }, data) {\n      console.log('login');\n      let response = await ShopService.shopLogin(data);\n      if (response.error === 0) {\n        commit('updateShopUser', response.data);\n      } else {\n        console.log(response.data);\n      }\n    },\n    async getAllViruses({\n      commit\n    }) {\n      console.log('récupération des viruses');\n      let response = await ShopService.getAllViruses();\n      if (response.error === 0) {\n        commit('updateViruses', response.data);\n      } else {\n        console.log(response.data);\n      }\n    },\n    async getAccountAmount({\n      commit\n    }, number) {\n      console.log(\"reset info\");\n      resetaccountinfo({\n        commit\n      });\n      console.log('récupération du montant du compte');\n      let response = await BankService.getAccountAmount(number);\n      if (response.error === 0) {\n        commit('updateAccountAmount', response.data);\n        console.log(response.data);\n      } else {\n        console.log(response.data);\n      }\n    },\n    async getTransactionsofAccount({\n      commit\n    }, number) {\n      console.log(\"reset info\");\n      resetaccountinfo({\n        commit\n      });\n      console.log('récupération des transactions du compte');\n      let response = await BankService.getTransactionsofAccount(number);\n      if (response.error === 0) {\n        commit('updateTransactions', response.data);\n        console.log(response.data);\n      } else {\n        console.log(response.data);\n      }\n    }\n  }\n});","map":{"version":3,"names":["Vue","Vuex","use","ShopService","BankService","Store","state","transactionsAccount","accountAmount","viruses","shopUser","mutations","updateViruses","updateShopUser","user","updateAccountAmount","amount","updateTransactions","transactions","actions","resetaccountinfo","commit","shopLogin","data","console","log","response","error","getAllViruses","getAccountAmount","number","getTransactionsofAccount"],"sources":["/home/kalinux/Calixte/BUT2/devWeb/frontend/TP/drmad/src/store/index.js"],"sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\n\nVue.use(Vuex)\n\nimport ShopService from '../services/shop.service'\nimport BankService from '../services/bankaccount.service'\n\nexport default new Vuex.Store({\n  // state = les données centralisées\n  state: () => ({\n    transactionsAccount: [],\n    accountAmount: 0,\n    viruses: [],\n    shopUser: null,\n  }),\n  // mutations = fonctions synchrones pour mettre à jour le state (!!! interdit de modifier directement le state)\n  mutations: {\n    updateViruses(state, viruses) {\n      state.viruses = viruses\n    },\n    updateShopUser(state, user) {\n      state.shopUser = user\n    },\n    updateAccountAmount(state, amount) {\n      state.accountAmount = amount\n    },\n    updateTransactions(state, transactions) {\n        state.transactionsAccount = transactions\n    }\n  },\n  // actions = fonctions asynchrone pour mettre à jour le state, en faisant appel aux mutations, via la fonction commit()\n  actions: {\n    async resetaccountinfo(){\n        commit('updateAccountAmount', 0)\n        commit('updateTransactions', [])\n    },\n    async shopLogin({commit}, data) {\n      console.log('login');\n      let response = await ShopService.shopLogin(data)\n      if (response.error === 0) {\n        commit('updateShopUser', response.data)\n      }\n      else {\n        console.log(response.data)\n      }\n    },\n    async getAllViruses({commit}) {\n      console.log('récupération des viruses');\n      let response = await ShopService.getAllViruses()\n      if (response.error === 0) {\n        commit('updateViruses', response.data)\n      }\n      else {\n        console.log(response.data)\n      }\n    },\n    async getAccountAmount({commit}, number) {\n      console.log(\"reset info\");\n      resetaccountinfo({commit});\n      console.log('récupération du montant du compte');\n      let response = await BankService.getAccountAmount(number)\n      if (response.error === 0) {\n        commit('updateAccountAmount', response.data)\n        console.log(response.data)\n\n      }\n      else {\n        console.log(response.data)\n      }\n    },\n    async getTransactionsofAccount({commit}, number) {\n        console.log(\"reset info\");\n        resetaccountinfo({commit});\n        console.log('récupération des transactions du compte');\n        let response = await BankService.getTransactionsofAccount(number)\n        if (response.error === 0) {\n            commit('updateTransactions', response.data)\n            console.log(response.data)\n        }\n        else {\n            console.log(response.data)\n        }\n    }\n  }\n})\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}